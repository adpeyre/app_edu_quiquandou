<?php

namespace ExerciseBundle\Repository;

/**
 * ExerciseRepository
 *
 * This class was generated by the Doctrine ORM. Add your own custom
 * repository methods below.
 */
class ExerciseDoneRepository extends \Doctrine\ORM\EntityRepository
{
    public function getNotDone($user){
        
        /*$qb = $this->createQueryBuilder('qqo');

        $qb->innerJoin('qqo.feedback','f');
        // ->addSelect('f')

        $qb->where('f.user=:user')
        ->setParameter('user',$user);

        $qb->groupBy('qqo.exercise_id');

        // Example - $qb->having('u.salary >= ?1')
        // Example - $qb->having($qb->expr()->gte('u.salary', '?1'))
        $qb->expr()->count('*')
        $qb->having


        $qb->setMaxResults(1);*/

        /*SELECT e FROM ExerciseBundle:Exercise e
        WHERE 
        SELECT MIN(qqo.exercise_id)
        FROM ExerciseBundle:Feedback qqo 
        INNER JOIN AppBundle:Feedback f
        WHERE f.user = :user
        GROUP BY qqo.exercise_id*/

        /*SELECT e FROM ExerciseBundle:Exercise e
        (SELECT qqo.exercise_id, COUNT(qqo.exercise_id)
        FROM ExerciseBundle:Feedback qqo 
        INNER JOIN AppBundle:Feedback f
        RIGHT JOIN ExerciseBundle:Exercise e
        WHERE f.user = :user
        GROUP BY qqo.exercise_id)*/

        

    }
}
